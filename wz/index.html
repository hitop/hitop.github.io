<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Marked in the browser</title>
</head>
<body>
  <div id="content"></div>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
  	console.log(location.pathname)
  	window.addEventListener('error', function(e) {
  	    console.log(e);
  	}, true);
  	function getAjax(url, success) {
  		var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
  		xhr.open('GET', url);
  		xhr.onreadystatechange = function() {
  			if (xhr.readyState>3 && xhr.status==200) success(xhr.responseText);
  		};
  		xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
  		xhr.send();
  		return xhr;
  	}
  	let wzcon = getAjax('2019-01-01-可以薅羊毛的APP.md', function (data) {
    	document.getElementById('content').innerHTML = marked(data);
  	})
  </script>
</body>
</html>